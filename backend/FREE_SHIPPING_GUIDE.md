# ููุฒุฉ ุงูุดุญู ุงููุฌุงูู ููููุชุฌุงุช - ุฏููู ุดุงูู

## ๐ฆ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ููุฒุฉ ุงูุดุญู ุงููุฌุงูู ููููุชุฌุงุช ูู ุงููุชุฌุฑ ุงูุฅููุชุฑูููุ ููุง ูุชูุญ ูููุฏูุฑ ุชุญุฏูุฏ ุงูููุชุฌุงุช ุงูุชู ุชุชุถูู ุดุญู ูุฌุงูู ูุฅุฏุงุฑุชูุง ุจุณูููุฉ.

## ๐๏ธ ุงูุชุญุฏูุซุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Migration ุงูุฌุฏูุฏุฉ
```sql
ALTER TABLE products ADD COLUMN has_free_shipping BOOLEAN DEFAULT FALSE;
ALTER TABLE products ADD COLUMN free_shipping_note TEXT NULL;
```

### ุงูุญููู ุงููุถุงูุฉ:
- `has_free_shipping`: boolean - ูู ุงูููุชุฌ ูู ุดุญู ูุฌุงูู
- `free_shipping_note`: text - ููุงุญุธุฉ ุญูู ุงูุดุญู ุงููุฌุงูู (ุงุฎุชูุงุฑูุฉ)

## ๐๏ธ ุงูุชุญุฏูุซุงุช ูู ุงูููุฏ

### 1. Model ุงูุชุญุฏูุซุงุช

**Product Model** (`app/Models/Product.php`):
```php
// Fillable fields ุฌุฏูุฏุฉ
'has_free_shipping', 'free_shipping_note'

// Casts ุฌุฏูุฏุฉ
'has_free_shipping' => 'boolean'

// Scopes ุฌุฏูุฏุฉ
public function scopeFreeShipping($query)
public function scopePaidShipping($query)

// Methods ูุณุงุนุฏุฉ
public function hasFreeShipping()
public function getShippingCost($cityPrice = 0)
```

### 2. API Routes ุงูุฌุฏูุฏุฉ

#### Public Routes:
```
GET /api/products/free-shipping/public  # ุฌูุจ ุงูููุชุฌุงุช ูุน ุดุญู ูุฌุงูู (ุนุงู)
```

#### Admin Routes:
```
GET    /api/products/free-shipping                    # ุฌูุจ ุงูููุชุฌุงุช ูุน ุดุญู ูุฌุงูู
POST   /api/products/{id}/toggle-free-shipping        # ุชูุนูู/ุฅูุบุงุก ุงูุดุญู ุงููุฌุงูู
```

#### Updated Routes:
```
POST /api/shipping-costs  # ุชู ุชุญุฏูุซ ุญุณุงุจ ุชูููุฉ ุงูุดุญู
```

### 3. API Responses ุงููุญุฏุซุฉ

#### ุญุณุงุจ ุชูููุฉ ุงูุดุญู ุงูุฌุฏูุฏ:
```json
{
    "success": true,
    "data": {
        "standard": 0,
        "express": 0,
        "overnight": 0,
        "free_shipping_threshold": null,
        "message": "ุดุญู ูุฌุงูู - ุฌููุน ุงูููุชุฌุงุช ุชุชุถูู ุดุญู ูุฌุงูู",
        "has_free_shipping_products": true,
        "free_shipping_count": 2,
        "paid_shipping_count": 1
    }
}
```

#### ุฌูุจ ุงูููุชุฌุงุช ูุน ุงูุดุญู ุงููุฌุงูู:
```json
{
    "success": true,
    "data": [
        {
            "id": 1,
            "name": "ููุชุฌ ูุน ุดุญู ูุฌุงูู",
            "has_free_shipping": true,
            "free_shipping_note": "ุดุญู ูุฌุงูู ููุฐุง ุงูููุชุฌ ูู ุฌููุน ุฃูุญุงุก ุงูููููุฉ",
            "price": 199.99
        }
    ],
    "pagination": {
        "total": 5,
        "per_page": 12,
        "current_page": 1,
        "last_page": 1
    }
}
```

## ๐ฏ ุณููุงุฑูููุงุช ุงูุดุญู

### 1. ุฌููุน ุงูููุชุฌุงุช ููุง ุดุญู ูุฌุงูู
- ุชูููุฉ ุงูุดุญู = 0 ุฏุฑูู
- ุฑุณุงูุฉ: "ุดุญู ูุฌุงูู - ุฌููุน ุงูููุชุฌุงุช ุชุชุถูู ุดุญู ูุฌุงูู"

### 2. ุจุนุถ ุงูููุชุฌุงุช ููุง ุดุญู ูุฌุงูู
- ุชูููุฉ ุงูุดุญู = ุณุนุฑ ุงููุฏููุฉ
- ุฑุณุงูุฉ: "ุงูุดุญู ูุฌุงูู ูู X ูู ุฃุตู Y ููุชุฌุงุช"

### 3. ูุง ุชูุฌุฏ ููุชุฌุงุช ุจุดุญู ูุฌุงูู
- ุชูููุฉ ุงูุดุญู = ุณุนุฑ ุงููุฏููุฉ ุงูุนุงุฏู
- ุฅููุงููุฉ ุงูุดุญู ุงููุฌุงูู ุนูุฏ ุชุฌุงูุฒ 500 ุฏุฑูู

### 4. ุชุฌุงูุฒ ุงูุนุชุจุฉ ุงููุฌุงููุฉ (500 ุฏุฑูู)
- ุชูููุฉ ุงูุดุญู = 0 ุฏุฑูู ููุทูุจุงุช > 500 ุฏุฑูู
- ุฑุณุงูุฉ: "ุดุญู ูุฌุงูู ููุทูุจุงุช ุฃูุซุฑ ูู 500 ุฏุฑูู"

## ๐ง ุงุณุชุฎุฏุงู ุงูู API

### 1. ุชูุนูู ุงูุดุญู ุงููุฌุงูู ูููุชุฌ:
```bash
POST /api/products/123/toggle-free-shipping
Content-Type: application/json
Authorization: Bearer {token}

{
    "has_free_shipping": true,
    "free_shipping_note": "ุดุญู ูุฌุงูู ููุฐุง ุงูููุชุฌ ุงูุฎุงุต"
}
```

### 2. ุญุณุงุจ ุชูููุฉ ุงูุดุญู ุงููุญุฏุซุฉ:
```bash
POST /api/shipping-costs
Content-Type: application/json

{
    "city": "ุงูุฏุงุฑ ุงูุจูุถุงุก",
    "total": 250.00,
    "items": [
        {"id": 1, "quantity": 2},
        {"id": 2, "quantity": 1}
    ]
}
```

### 3. ุฌูุจ ุงูููุชุฌุงุช ูุน ุงูุดุญู ุงููุฌุงูู:
```bash
GET /api/products/free-shipping/public?per_page=12
```

## ๐ ุฅุญุตุงุฆูุงุช

ูููู ุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุงูุดุญู ุงููุฌุงูู ุจุงุณุชุฎุฏุงู:
```php
// ูู ุงูููุฏ
$freeShippingCount = Product::freeShipping()->count();
$paidShippingCount = Product::paidShipping()->count();
$freeShippingPercentage = ($freeShippingCount / Product::count()) * 100;
```

## ๐จ ุนุฑุถ ุงูุดุญู ุงููุฌุงูู ูู Frontend

### ูุคุดุฑุงุช ุจุตุฑูุฉ ููุชุฑุญุฉ:
- ๐ ุฃููููุฉ ุดุงุญูุฉ ูุน "ุดุญู ูุฌุงูู"
- ๐ฏ Badge ุฃุฎุถุฑ "Free Shipping"
- โ ุนูุงูุฉ ุตุญ ูุน ุงููุต
- ๐ ุฑูุฒ FREE ุจุงูููู ุงููููุฒ

### ุฃูุงูู ุงูุนุฑุถ:
1. **ุจุทุงูุงุช ุงูููุชุฌุงุช**: Badge ุตุบูุฑ
2. **ุตูุญุฉ ุงูููุชุฌ**: ุฅุนูุงู ูุงุถุญ
3. **ุงูุณูุฉ**: ุชูููุฒ ุงูููุชุฌุงุช ูุน ุดุญู ูุฌุงูู
4. **Checkout**: ุนุฑุถ ุชูููุฑ ุชูููุฉ ุงูุดุญู

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

ูููู ุฅุถุงูุฉ:
- ๐ ุชูุงุฑูุฎ ุงูุชูุงุก ุงูุดุญู ุงููุฌุงูู
- ๐ท๏ธ ุดุญู ูุฌุงูู ููุฆุงุช ูุนููุฉ
- ๐ ุดุญู ูุฌุงูู ูุนุฑุถ ุชุฑููุฌู
- ๐ ุดุญู ูุฌุงูู ูููุงุทู ูุญุฏุฏุฉ ููุท
- ๐ฐ ุญุฏ ุฃุฏูู ููุดุญู ุงููุฌุงูู ููู ููุชุฌ

## ๐ฏ ููุงุฆุฏ ุงูููุฒุฉ

### ูููุชุฌุฑ:
- โ ุฒูุงุฏุฉ ุงููุจูุนุงุช
- โ ุชุญุณูู ูุนุฏู ุงูุชุญููู
- โ ุฌุฐุจ ุงููุฒูุฏ ูู ุงูุนููุงุก
- โ ุชูุงูุณูุฉ ุฃูุถู

### ููุนููุงุก:
- โ ุชูููุฑ ูู ุชูููุฉ ุงูุดุญู
- โ ุชุฌุฑุจุฉ ุดุฑุงุก ุฃูุถู
- โ ูุถูุญ ูู ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ
- โ ุญุงูุฒ ุฅุถุงูู ููุดุฑุงุก

---

**๐ ุงูููุฒุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ููุชูุงููุฉ ูุน ุงููุธุงู ุงูุญุงูู!**